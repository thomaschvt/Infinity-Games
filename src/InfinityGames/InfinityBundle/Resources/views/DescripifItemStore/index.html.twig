{% extends "::administration/admin_layout.html.twig" %}
	{% block content_page %}
<h1>Gestion des Items</h1>
<div class="span12">
	<a href="{{ path('descripifitemstore_new') }}">
    	<button class="btn btn-success"> 
	            Ajouter un item
        </button>
    </a>
    <a href="{{ path('typeitemstore_new') }}">
    	<button class="btn btn-success"> 
	            Ajouter un type d' item
        </button>
    </a>
<div id="list_user">
	<h2>Liste des items : </h2>
	<table id="listing_admin" class="display dataTable listing_admin" width="90%" cellspacing="50" cellpadding="50" border="0" aria-describedby="classement des joueurs" style="width: 100%;">
		<thead>
			<tr role="row">
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Nom du joueur">Nom item</th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Email de l'utilisateur">Statut</th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Platform(s): activate to sort column ascending">Type</th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Platform(s): activate to sort column ascending">Durée</th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Platform(s): activate to sort column ascending">Prix</th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Platform(s): activate to sort column ascending"></th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Platform(s): activate to sort column ascending"></th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Platform(s): activate to sort column ascending"></th>
			</tr>
		</thead>
		<tfoot>
		<tbody role="alert" aria-live="polite" aria-relevant="all">
		{% for item in entities %}
		 	<tr class="gradeA odd">
				<td class="sorting_1">{{ item.intitule }}</td>
				<td class="sorting_1">{{ item.statut }}</td>
				<td class="sorting_1">{{ item.typeItem }}</td>
				<td class="sorting_1">{{ item.dureeTemps }}</td>
				<td class="sorting_1">{{ item.prix }}</td>
				<td class="sorting_1">
					<a href="{{ path("descripifitemstore_show",{'id':item.id}) }}" title="Voir la fiche de l'item">
						<button class="btn">
							<i class=" icon-eye-open"></i>
						</button>
					</a>
				</td>
				<td class="sorting_1">
					<a href="{{ path("descripifitemstore_edit",{'id':item.id}) }}" title="Editer la fiche de l'item">
						<button class="btn btn-info">
							<i class=" icon-edit"></i>
						</button>
					</a>
				</td>
				<td>
					<div class="btn-group">
					    <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
					    	Statut
					    	<span class="caret"></span>
					    </a>
					    <ul class="dropdown-menu">
					    	<li><a href="{{ path("descripifitemstore_change_statut",{'id':item.id,'statut':1}) }}">Actif</a></li>
					    	<li><a href="{{ path("descripifitemstore_change_statut",{'id':item.id,'statut':2}) }}">Inactif</a></li>
					    </ul>
				    </div>
				</td>
			</tr>	
		{% endfor %} 	
		</tbody>
	</table>
</div>

<!-- type d'item -->
<div id="list_user">
	<h2>Liste des type d' items : </h2>
	<table id="listing_admin" class="display dataTable listing_admin" width="90%" cellspacing="50" cellpadding="50" border="0" aria-describedby="classement des joueurs" style="width: 100%;">
		<thead>
			<tr role="row">
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Intitule du type">Intitule</th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label=""></th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label=""></th>
			</tr>
		</thead>
		<tfoot>
		<tbody role="alert" aria-live="polite" aria-relevant="all">
		{% for type in typesItem %}
		 	<tr class="gradeA odd">
				<td class="sorting_1">{{ type.intitule }}</td>
				<td class="sorting_1">
					<a href="{{ path("typeitemstore_show",{'id':type.id}) }}" title="Editer la fiche de l'item">
						<button class="btn">
							<i class=" icon-eye-open"></i>
						</button>
					</a>
				</td>
				<td class="sorting_1">
					<a href="{{ path("typeitemstore_edit",{'id':type.id}) }}" title="Editer la fiche de l'item">
						<button class="btn btn-info">
							<i class=" icon-edit"></i>
						</button>
					</a>
				</td>
			</tr>	
		{% endfor %} 	
		</tbody>
	</table>
</div>

<!-- commande -->
<div id="list_user">
	<h2>Liste des commande : </h2>
	<table id="listing_admin" class="display dataTable listing_admin" width="90%" cellspacing="50" cellpadding="50" border="0" aria-describedby="classement des joueurs" style="width: 100%;">
		<thead>
			<tr role="row">
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Nom du joueur">Ref.Commande</th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Platform(s): activate to sort column ascending">Utilisateur</th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Platform(s): activate to sort column ascending">Date commande</th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Platform(s): activate to sort column ascending">Prix total TTC</th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Platform(s): activate to sort column ascending">Retour Paypal</th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Platform(s): activate to sort column ascending">statut</th>
				<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Platform(s): activate to sort column ascending">Action</th>
			</tr>
		</thead>
		<tfoot>
		<tbody role="alert" aria-live="polite" aria-relevant="all">
		{% for commande in commandes %}
		 	<tr class="gradeA odd">
				<td class="sorting_1">{{ commande.refCommande }}</td>
				<td class="sorting_1">{{ commande.utilisateur }}</td>
				<td class="sorting_1">{{ commande.dateTransaction|date('d-m-Y') }}</td>
				<td class="sorting_1">{{ commande.pxTotal }}</td>
				<td class="sorting_1">{{ commande.retourPaypal }}</td>
				{% if commande.statut =="En cours" %}
					<td class="sorting_1" style="color:#49AFCD;">{{ commande.statut }}</td>
				{% elseif commande.statut == "Traitée" %}
					<td class="sorting_1" style="color:#5BB75B;">{{ commande.statut }}</td>
				{% elseif commande.statut == "Erreur" %}
					<td class="sorting_1" style="color:#DA4F49;">{{ commande.statut }}</td>
				{% endif %}
				<td class="sorting_1">
					<div class="btn-group">
					    <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
					    	Action
					    	<span class="caret"></span>
					    </a>
					    <ul class="dropdown-menu">
					    	<li><a href="{{ path("commande_change_statut",{'id':commande.id,'statut':"En cours"}) }}">En cours</a></li>
					    	<li><a href="{{ path("commande_change_statut",{'id':commande.id,'statut':"Traitée"}) }}">Traitée</a></li>
					    	<li><a href="{{ path("commande_change_statut",{'id':commande.id,'statut':"Erreur"}) }}">Erreur</a></li>
					    </ul>
				    </div>
				</td>	
			</tr>	
		{% endfor %} 	
		</tbody>
	</table>
</div>



</div>
{% endblock %}